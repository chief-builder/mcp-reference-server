# Browser Automation Comparison: Chrome MCP vs Agent-Browser CLI

Comparison based on successful test runs from session `4c0eed73-c8ca-41a5-a547-d5765475e289` on 2026-01-21.

## Test Workflow

Both approaches executed the same UI workflow:
1. Navigate to `http://localhost:5173`
2. Login via OAuth (admin/secret123)
3. Test calculator tool (42 * 17 = 714)
4. Test fortune teller tool
5. Test dice roller tool (2d20)
6. Test general knowledge question (NBA)
7. View tools panel
8. Sign out

---

## Tool/Command Calls

| Tool Type | Chrome MCP | Agent-Browser |
|-----------|------------|---------------|
| Navigation | - | 1 (open) |
| Click actions | 20 (computer) | 4 (click) |
| Form input | 9 (form_input) | 4 (fill) |
| Page inspection | 10 (read_page) | 4 (snapshot) |
| Screenshots | incl. in computer | 4 (screenshot) |
| JavaScript | 11 (javascript_tool) | 4 (eval) |
| GIF recording | 3 (gif_creator) | - |
| Close | - | 1 (close) |
| **Total** | **53** | **22** |

---

## Execution Time

| Metric | Chrome MCP | Agent-Browser |
|--------|------------|---------------|
| Start | 14:06:28 UTC | 15:44:46 UTC |
| End | 14:13:33 UTC | 15:46:48 UTC |
| **Duration** | **7m 5s** | **2m 2s** |

---

## Context Efficiency

| Metric | Chrome MCP | Agent-Browser |
|--------|------------|---------------|
| Session transcript entries | 269 | 101 |
| Ratio | 2.7x | 1x (baseline) |

*"Session transcript entries" = lines in the Claude Code JSONL transcript file. Each entry represents a message, tool call, or tool result.*

---

## Token Usage

### Summary

| Token Type | Chrome MCP | Agent-Browser | Ratio |
|------------|------------|---------------|-------|
| Output tokens | 238 | 46 | 5.2x |
| Input tokens | 826 | 202 | 4.1x |
| Cache creation tokens | 83,292 | 10,143 | 8.2x |
| Cache read tokens | 14,426,022 | 2,255,399 | 6.4x |
| **Total new tokens** | **1,064** | **248** | **4.3x** |

### Per-Session Detail

| Metric | Chrome MCP | Agent-Browser | Ratio |
|--------|------------|---------------|-------|
| API calls | 114 | 28 | 4.1x |
| Starting context size | 110,455 tokens | 78,996 tokens | 1.4x |
| Ending context size | 142,110 tokens | 82,810 tokens | 1.7x |
| Context growth | 31,655 tokens | 3,814 tokens | 8.3x |
| Avg growth per API call | 277 tokens | 136 tokens | 2.0x |

### Analysis

**Why Chrome MCP consumes more tokens:**

1. **More API calls (4.1x):** Chrome MCP made 114 API calls vs Agent-Browser's 28 for the same workflow. Each API call incurs context overhead.

2. **Larger tool outputs:** Chrome MCP tools return richer data:
   - `read_page` returns full accessibility trees with element refs
   - `computer` screenshot actions return image data
   - `gif_creator` manages frame buffers internally

3. **Higher context growth per call (2.0x):** Each Chrome MCP call adds ~277 tokens to context vs ~136 for Agent-Browser. MCP tool results are more verbose.

4. **Cumulative effect:** Over 114 calls, Chrome MCP accumulated 31,655 new tokens vs 3,814 for Agent-Browser (8.3x difference).

**Definitions:**
- **Output tokens**: Tokens generated by the model (responses)
- **Input tokens**: New tokens sent to the model (not from cache)
- **Cache creation tokens**: New context added to the prompt cache
- **Cache read tokens**: Existing context reused from cache (cumulative across all API calls)
- **Context growth**: Difference between ending and starting context size

---

## Output Artifacts

| Metric | Chrome MCP | Agent-Browser |
|--------|------------|---------------|
| GIF file | `mcp-agent-ui-test.gif` | `agent-browser-workflow.gif` |
| GIF size | 960 KB | 169 KB |
| GIF frames | 19 | 9 |
| Resolution | 1489 x 825 | 1280 x 720 |
| Screenshots | Embedded in GIF | 4 separate PNG files |
| GIF creation | Built-in `gif_creator` tool | Post-hoc with ImageMagick |

---

## Summary

| Aspect | Chrome MCP | Agent-Browser |
|--------|------------|---------------|
| Tool calls | 53 | **22** |
| Execution time | 7m 5s | **2m 2s** |
| Context entries | 269 | **101** |
| Total new tokens | 1,064 | **248** |
| Cache read tokens | 14.4M | **2.3M** |
| Built-in GIF recording | **Yes** | No |
| GIF resolution | **1489x825** | 1280x720 |
| Frames captured | **19** | 9 |
| File output | Downloads folder | Direct to disk |

---

## Recommendations

**Use Chrome MCP when:**
- You need built-in GIF recording with visual overlays (click indicators, action labels)
- Higher fidelity screen captures are required
- You want more frames captured automatically during interactions

**Use Agent-Browser when:**
- You need faster execution with fewer tool calls
- Context efficiency is important (smaller conversation footprint)
- You want direct file output (screenshots saved to disk)
- Simpler CLI-based scripting is preferred

---

## Data Source

- Session ID: `4c0eed73-c8ca-41a5-a547-d5765475e289`
- Chrome MCP run: transcript lines 2722-2991
- Agent-Browser run: transcript lines 3561-3662
- Transcript location: `~/.claude/projects/-Users-chiefbuilder-Documents-Projects-MCP-11252025-Reference/`
